(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{1673:function(e,t,r){"use strict";var n=r("28cb"),s=r.n(n);s.a},"1c1c":function(e,t,r){},"1dde":function(e,t,r){var n=r("d039"),s=r("b622"),a=r("2d00"),i=s("species");e.exports=function(e){return a>=51||!n((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1ef2":function(e,t,r){e.exports=r.p+"img/neutral.45e2f2cb.png"},"28cb":function(e,t,r){},"40bd":function(e,t,r){e.exports=r.p+"img/defuse.341cdc8d.png"},"415e":function(e,t,r){"use strict";var n=r("f55c"),s=r.n(n);s.a},"4de4":function(e,t,r){"use strict";var n=r("23e7"),s=r("b727").filter,a=r("1dde"),i=r("ae40"),o=a("filter"),c=i("filter");n({target:"Array",proto:!0,forced:!o||!c},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"54a6":function(e,t,r){e.exports=r.p+"img/guy_back.be9a3793.png"},"568f":function(e,t,r){"use strict";var n=r("c457"),s=r.n(n);s.a},"629a":function(e,t,r){e.exports=r.p+"img/bomb.ff9db339.png"},"65f0":function(e,t,r){var n=r("861d"),s=r("e8b5"),a=r("b622"),i=a("species");e.exports=function(e,t){var r;return s(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?n(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"69b3":function(e,t,r){},"6a8d":function(e,t,r){e.exports=r.p+"img/wire_cutter.4021a716.png"},"7ad2":function(e,t,r){},"7d36":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("EndGameModal",{directives:[{name:"show",rawName:"v-show",value:e.isEndGameModalVisible,expression:"isEndGameModalVisible"}],attrs:{reason:e.reason},on:{close:e.closeEndGameModal}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isEndTurnNotificationVisible,expression:"isEndTurnNotificationVisible"}],staticClass:"notification end-of-turn"},[e._v(" ‚è∞ New round! Cards have been redistributed üîÄ ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEndTurnNotificationVisible,expression:"!isEndTurnNotificationVisible"}],staticClass:"notification turn",class:{"my-turn":this.$store.getters.my_username==e.current_player_name}},[e._v(" "+e._s(e.current_player_name)+"'s turn! ")]),r("GameStatus"),r("Board"),r("PlayerStatus")],1)},s=[],a=(r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game-status"},[r("div",{staticClass:"game-status-item"},[e._v("Round: "+e._s(this.$store.getters.round_number)+" / "+e._s(this.$store.getters.num_rounds))]),r("div",{staticClass:"game-status-item"},[e._v("Defuse found: "+e._s(this.numDefuseFound())+" / "+e._s(this.$store.getters.players.length))])])}),i=[],o={name:"Turn",methods:{numDefuseFound:function(){for(var e=this.$store.getters.cards,t=0,r=0;r<e.length;++r)1==e[r].type&&e[r].visible&&t++;return t}},computed:{current_player_name:function(){return this.$store.getters.players[this.$store.getters.current_player_id].name},num_players:function(){return this.$store.getters.players.length}}},c=o,u=(r("415e"),r("2877")),l=Object(u["a"])(c,a,i,!1,null,"4f341344",null),d=l.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"board"},e._l(e.players,(function(e){return r("div",{key:e.id},[r("PlayerCards",{attrs:{player:e}})],1)})),0)},m=[],p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cards-container"},[r("p",{staticClass:"player-name",class:{"is-playing":e.player.id==e.current_player_id}},[e._v(e._s(e.player.name))]),r("div",{staticClass:"cards-in-row"},e._l(e.player.cards,(function(t,n){return r("img",{key:n,staticClass:"card-preview",class:[{"is-playing":e.showCard(e.player,e.cards[t],e.current_player_id)},{"blink-card":e.blinkCard(t)}],attrs:{src:e.getImgUrl(e.cards[t])},on:{click:function(r){return e.clickOnCard(e.player,e.cards[t],e.current_player_id)}}})})),0)])},g=[],y={name:"PlayerCards",props:["player"],methods:{getImgUrl:function(e){var t=r("f1e0");return e.visible?0==e.type?t("./neutral.png"):1==e.type?t("./defuse.png"):t("./bomb.png"):t("./back.png")},clickOnCard:function(e,t,r){this.$store.getters.my_username===this.$store.getters.players[r].name?e.id!=r&&(t.visible||(t.visible=!0,this.$socket.emit("SELECT_CARD",{player:e,card:t}))):console.log("Cannot uncover card while it is not your turn!")},showCard:function(e,t,r){return!t.visible&&e.id==r},blinkCard:function(e){return e===this.$store.getters.last_card_played_id}},computed:{my_username:function(){return this.$store.getters.my_username},current_player_id:function(){return this.$store.getters.current_player_id},players:function(){return this.$store.getters.players},cards:function(){return this.$store.getters.cards}}},b=y,v=(r("d317"),Object(u["a"])(b,p,g,!1,null,null,null)),_=v.exports,h={name:"Board",components:{PlayerCards:_},computed:{players:function(){return this.$store.getters.players}}},C=h,w=(r("da27"),Object(u["a"])(C,f,m,!1,null,"f78d7db2",null)),E=w.exports,$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"player-status-main"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isGameStatusPanelVisible,expression:"isGameStatusPanelVisible"}],staticClass:"player-status",on:{click:function(t){return e.togglePlayerStatusPanel()}}},[r("div",{staticClass:"player-identity"},[r("p",[e._v(e._s(e.my_player.name))]),r("img",{staticClass:"card-preview",attrs:{src:e.getTeamImgUrl(e.my_player.team)}})]),r("div",{staticClass:"player-cards-row"},[r("p",[e._v("My cards")]),r("div",{staticClass:"my-cards"},[e._l(e.numCardsOfType(e.my_player,e.cards,0),(function(t){return r("div",{key:"neutral"+t,staticClass:"card",attrs:{src:e.getImgUrl(0)}},[r("img",{staticClass:"card-preview",attrs:{src:e.getImgUrl(0)}})])})),e._l(e.numCardsOfType(e.my_player,e.cards,1),(function(t){return r("div",{key:"defuse"+t,staticClass:"card",attrs:{src:e.getImgUrl(1)}},[r("img",{staticClass:"card-preview",attrs:{src:e.getImgUrl(1)}})])})),e._l(e.numCardsOfType(e.my_player,e.cards,2),(function(t){return r("div",{key:"bomb"+t,staticClass:"card",attrs:{src:e.getImgUrl(2)}},[r("img",{staticClass:"card-preview",attrs:{src:e.getImgUrl(2)}})])}))],2)])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isGameStatusPanelVisible,expression:"!isGameStatusPanelVisible"}],staticClass:"toggle-player-status",on:{click:function(t){return e.togglePlayerStatusPanel()}}},[e._v("My cards ("+e._s(e.my_player.name)+")")])])},x=[],T=(r("7db0"),{name:"PlayerStatus",data:function(){return{isGameStatusPanelVisible:!0}},methods:{togglePlayerStatusPanel:function(){this.isGameStatusPanelVisible=!this.isGameStatusPanelVisible},numCardsOfType:function(e,t,r){for(var n=0,s=0;s<e.cards.length;++s)t[e.cards[s]].type!=r||t[e.cards[s]].visible||n++;return n},getTeamImgUrl:function(e){var t=r("f1e0");return t("Good"===e?"./good_guy_1.png":"./bad_guy_1.png")},getImgUrl:function(e){var t=r("f1e0");return t(0==e?"./neutral.png":1==e?"./defuse.png":"./bomb.png")}},computed:{my_username:function(){return this.$store.getters.my_username},my_player:function(){var e=this;return this.$store.getters.players.find((function(t){return t.name===e.$store.getters.my_username}))},players:function(){return this.$store.getters.players},cards:function(){return this.$store.getters.cards}}}),G=T,k=(r("1673"),Object(u["a"])(G,$,x,!1,null,"65dbb0ee",null)),S=k.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"modal-fade"}},[r("div",{staticClass:"modal-backdrop"},[r("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"EndGame","aria-describedby":"End of game"}},[r("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[e._t("header",[e._v(" End of game! ")])],2),r("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[e._t("body",[r("p",[e._v(e._s(e.getTextDescription(e.reason)))]),r("p",[e._v("Good guys: "+e._s(e.getPlayersInTeam("Good")))]),r("p",[e._v("Bad guys: "+e._s(e.getPlayersInTeam("Bad")))])])],2),r("footer",{staticClass:"modal-footer"},[e._t("footer",[r("button",{staticClass:"btn-green",attrs:{type:"button","aria-label":"Close modal"},on:{click:e.close}},[e._v(" Close ")])])],2)])])])},O=[],V=(r("4de4"),r("a15b"),r("d81d"),{name:"EndGameModal",props:["reason"],methods:{close:function(){this.$emit("close")},getTextDescription:function(e){return"bomb"===e?"The bomb exploded! The bad guys win!":"defuse_found"===e?"The bomb has been defused! The good guys win!":"rounds_expired"===e?"Time expired! The bad guys win!":"user_disconnected"===e?"Error: one user has disconnected. Unfortunately we must stop the game :(":"Error: I don't know why the game ended."},getPlayersInTeam:function(e){var t=[],r=this.$store.getters.players;return t=r.filter((function(t){return t.team===e})).map((function(e){return e.name})),t.join(", ")}}}),N=V,M=(r("eff1"),Object(u["a"])(N,P,O,!1,null,null,null)),I=M.exports,A={name:"Game",components:{GameStatus:d,Board:E,PlayerStatus:S,EndGameModal:I},sockets:{END_ROUND:function(){var e=this;console.log("End round triggered"),this.isEndTurnNotificationVisible=!0,setTimeout((function(){e.isEndTurnNotificationVisible=!1}),5e3)},END_GAME:function(e){this.reason=e,console.log("Game has ended because: "+e),this.showEndGameModal()}},data:function(){return{isEndGameModalVisible:!1,isEndTurnNotificationVisible:!1,reason:""}},methods:{showEndGameModal:function(){this.isEndGameModalVisible=!0},closeEndGameModal:function(){this.isEndGameModalVisible=!1,this.$router.push("/"),this.$socket.emit("RESET_GAME")},myTurn:function(){return this.$store.getters.players[this.$store.getters.current_player_id].name===this.$store.getters.my_username}},computed:{current_player_name:function(){return this.$store.getters.players[this.$store.getters.current_player_id].name}}},U=A,j=(r("568f"),Object(u["a"])(U,n,s,!1,null,null,null));t["default"]=j.exports},"7db0":function(e,t,r){"use strict";var n=r("23e7"),s=r("b727").find,a=r("44d2"),i=r("ae40"),o="find",c=!0,u=i(o);o in[]&&Array(1)[o]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},a15b:function(e,t,r){"use strict";var n=r("23e7"),s=r("44ad"),a=r("fc6a"),i=r("a640"),o=[].join,c=s!=Object,u=i("join",",");n({target:"Array",proto:!0,forced:c||!u},{join:function(e){return o.call(a(this),void 0===e?",":e)}})},a285:function(e,t,r){e.exports=r.p+"img/back.6566451f.png"},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,r){var n=r("83ab"),s=r("d039"),a=r("5135"),i=Object.defineProperty,o={},c=function(e){throw e};e.exports=function(e,t){if(a(o,e))return o[e];t||(t={});var r=[][e],u=!!a(t,"ACCESSORS")&&t.ACCESSORS,l=a(t,0)?t[0]:c,d=a(t,1)?t[1]:void 0;return o[e]=!!r&&!s((function(){if(u&&!n)return!0;var e={length:-1};u?i(e,1,{enumerable:!0,get:c}):e[1]=1,r.call(e,l,d)}))}},b0c0:function(e,t,r){var n=r("83ab"),s=r("9bf2").f,a=Function.prototype,i=a.toString,o=/^\s*function ([^ (]*)/,c="name";n&&!(c in a)&&s(a,c,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(e){return""}}})},b727:function(e,t,r){var n=r("0366"),s=r("44ad"),a=r("7b0b"),i=r("50c4"),o=r("65f0"),c=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,l=4==e,d=6==e,f=5==e||d;return function(m,p,g,y){for(var b,v,_=a(m),h=s(_),C=n(p,g,3),w=i(h.length),E=0,$=y||o,x=t?$(m,w):r?$(m,0):void 0;w>E;E++)if((f||E in h)&&(b=h[E],v=C(b,E,_),e))if(t)x[E]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return E;case 2:c.call(x,b)}else if(l)return!1;return d?-1:u||l?l:x}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c457:function(e,t,r){},d317:function(e,t,r){"use strict";var n=r("1c1c"),s=r.n(n);s.a},d81d:function(e,t,r){"use strict";var n=r("23e7"),s=r("b727").map,a=r("1dde"),i=r("ae40"),o=a("map"),c=i("map");n({target:"Array",proto:!0,forced:!o||!c},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},da27:function(e,t,r){"use strict";var n=r("69b3"),s=r.n(n);s.a},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},edb3:function(e,t,r){e.exports=r.p+"img/good_guy_1.97cbcefc.png"},eff1:function(e,t,r){"use strict";var n=r("7ad2"),s=r.n(n);s.a},f1e0:function(e,t,r){var n={"./back.png":"a285","./bad_guy_1.png":"f6fd","./bomb.png":"629a","./defuse.png":"40bd","./good_guy_1.png":"edb3","./guy_back.png":"54a6","./neutral.png":"1ef2","./test.png":"f574","./wire_cutter.png":"6a8d"};function s(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="f1e0"},f55c:function(e,t,r){},f574:function(e,t,r){e.exports=r.p+"img/test.1f3bb6e1.png"},f6fd:function(e,t,r){e.exports=r.p+"img/bad_guy_1.1f3bb6e1.png"}}]);
//# sourceMappingURL=about.131fe053.js.map